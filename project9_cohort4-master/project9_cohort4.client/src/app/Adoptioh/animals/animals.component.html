<section class="shop-section pt-120 pb-120 overflow-visible">
  <div class="container position-relative">
    <div class="row g-6">
      <!-- Sidebar with Filters -->
      <div class="col-lg-3">
        <div class="shop-sidebar">
          <!-- Shelter Filter -->
          <div class="filter-item mb-4">
            <label for="shelterFilter">Shelter</label>
            <select id="shelterFilter" [(ngModel)]="selectedShelter" (change)="applyFilters()">
              <option value="">All Shelters</option>
              <option *ngFor="let shelter of shelters" [value]="shelter.shelterId">{{ shelter.shelterName }}</option>
            </select>
          </div>

          <!-- Species Filter -->
          <div class="filter-item mb-4">
            <label for="speciesFilter">Species</label>
            <select id="speciesFilter" [(ngModel)]="selectedSpecies" (change)="applyFilters()">
              <option value="">All Species</option>
              <option *ngFor="let species of speciesList" [value]="species">{{ species }}</option>
            </select>
          </div>

          <!-- Breed Filter -->
          <div class="filter-item mb-4">
            <label for="breedFilter">Breed</label>
            <input type="text" id="breedFilter" [(ngModel)]="selectedBreed" (input)="applyFilters()" placeholder="Enter breed">
          </div>

          <!-- Age Filter -->
          <div class="filter-item mb-4">
            <label for="ageFilter">Age</label>
            <input type="range" id="ageFilter" [(ngModel)]="selectedAge" (change)="applyFilters()" min="0" max="20" step="1">
            <span>{{ selectedAge }} years</span>
          </div>
        </div>
      </div>

      <!-- Main Content with Animals -->
      <div class="col-lg-9">
        <div class="showing-result d-flex align-items-center justify-content-between flex-wrap gap-4 mb-lg-8 mb-6">
          <span class="text-base fw-normal font-instrument text-n10">
            Showing {{ (currentPage - 1) * pageSize + 1 }}-{{ Math.min(currentPage * pageSize, totalItems) }} of {{ totalItems }} results
          </span>

          <div class="d-flex align-items-center gap-2">
            <div class="sort-type-wrapper py-2 px-4 radius-pill bg-primary2 position-relative">
              <select id="sort-type" class="w-100 bg-transparent p-0" [(ngModel)]="selectedSort" (change)="sortAnimals()">
                <option value="default">Default Sorting</option>
                <option value="newest">Newest</option>
                <option value="oldest">Oldest</option>
                <option value="high-low">High - Low</option>
                <option value="low-high">Low - High</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Product List -->
        <div class="row g-6 mb-lg-10 mb-md-8 mb-6">
          <div class="col-md-4 col-xs-6" *ngFor="let animal of displayedAnimals">
            <div class="product-card border n20-1-border radius-16 overflow-hidden hover-primary-border">
              <div class="product-thumb scale-animation position-relative">
                <img class="w-100" [src]="animal.photoUrl" [alt]="animal.name">
                <div class="product-info p-lg-6 p-4 text-center">
                  <a [routerLink]="['/animal-details', animal.animalId]" class="text-h6 text-n20 font-otomanopee fw-normal hover-text-primary hover-underline mb-2">
                    {{ animal.name }}
                  </a>
                  <p>{{ animal.breed }}</p>
                  <span class="text-primary font-instrument fw-semibold">{{ animal.age }} years old</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Pagination -->
        <ul class="pagination justify-content-center gap-lg-5 gap-3">
          <li class="pagination-item" (click)="prevPage()" [class.disabled]="currentPage === 1">
            <a class="pagination-link">
              <i class="ph ph-arrow-left"></i>
            </a>
          </li>
          <li class="pagination-item" *ngFor="let page of paginationRange()" (click)="setPage(page)">
            <a class="pagination-link" [class.active]="page === currentPage">{{ page }}</a>
          </li>
          <li class="pagination-item" (click)="nextPage()" [class.disabled]="currentPage === totalPages">
            <a class="pagination-link">
              <i class="ph ph-arrow-right"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>
